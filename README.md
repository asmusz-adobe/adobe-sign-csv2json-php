# adobe-sign-csv2json
#### PHP based script to get csv "form data" using Adobe Sign agreement ID
#### It converts CSV to JSON and returns as response data

This script was written in PHP using php cURL code as generated by [POSTMAN](https://www.getpostman.com/downloads/) as well as swiping the code from the Gist from robflaherty as found here https://gist.github.com/robflaherty/1185299 .

### Requirements
* PHP Server running 5.6.40
* Adobe Sign account allowing api access
* Adobe Sign ["integration key"](https://helpx.adobe.com/sign/kb/how-to-create-an-integration-key.html)

### Usage
Once you have this script installed on your php server you can POST to the page like below:

POST - URL `https://yourserver.yourdomain.com/formDataJson.php`

##### JSON Body
```JSON
{
	"agreement_id": "{{Adobe Sign agreement ID}}",
	"token": "{{integration key or oAuth access token}}",
	"sender_email": "{{'sender' email address}}",
	"shard": "{{Geo shared where account is on Adobe Sign}}"
}
```
### Response Example

```JSON
{
	"completed": "2019-05-16 09:46:44",
	"email": "echosmusz1+na2main@gmail.com",
	"role": "SIGNER",
	"first": "Samuel",
	"last": "Tanenbaum",
	"title": "CEO",
	"company": "BBA Aviation",
	"City": "",
	"St": "",
	"Zip": "",
	"agreementId": "CBJCHBCAABAAyDrVXUPNP7q0_WsSl-Ch6OUFIeHzWJp1",
	"city1": "uyt",
	"city2": "",
	"largeField2": "",
	"street": "uyt",
	"id": 0
}, {
	"completed": "2019-05-16 09:50:04",
	"email": "echosmusz1+npssender2@gmail.com",
	"role": "SIGNER",
	"first": "Jack",
	"last": "Johnsen",
	"title": "",
	"company": "BBA Aviation",
	"City": "",
	"St": "",
	"Zip": "",
	"agreementId": "CBJCHBCAABAAyDrVXUPNP7q0_WsSl-Ch6OUFIeHzWJp1",
	"city1": "",
	"city2": "Somewhere",
	"largeField2": "",
	"street": "",
	"id": 1
}
```
